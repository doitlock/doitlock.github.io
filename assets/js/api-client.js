function _regenerator(){var d,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",r=e.toStringTag||"@@toStringTag";function n(e,t,r,n){var o,a,c,i,u,f,s,l,p,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(o=e,a=r,s=n||[],l=!1,p={p:f=0,n:0,v:d,a:y,f:y.bind(d,4),d:function(e,t){return c=e,i=0,u=d,p.n=t,h}},function(e,t,r){if(1<f)throw TypeError("Generator is already running");for(l&&1===t&&y(t,r),i=t,u=r;(_=i<2?d:u)||!l;){c||(i?i<3?(1<i&&(p.n=-1),y(i,u)):p.n=u:p.v=u);try{if(f=2,c){if(_=c[e=i?e:"next"]){if(!(_=_.call(c,u)))throw TypeError("iterator result is not an object");if(!_.done)return _;u=_.value,i<2&&(i=0)}else 1===i&&(_=c.return)&&_.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+e+"' method"),i=1);c=d}else if((_=(l=p.n<0)?u:o.call(a,p))!==h)break}catch(e){c=d,i=1,u=e}finally{f=1}}return{value:_,done:l}}),!0),t;function y(e,t){for(i=e,u=t,_=0;!l&&f&&!r&&_<s.length;_++){var r,n=s[_],o=p.p,a=n[2];3<e?(r=a===t)&&(u=n[(i=n[4])?5:i=3],n[4]=n[5]=d):n[0]<=o&&((r=e<2&&o<n[1])?(i=0,p.v=t,p.n=n[1]):o<a&&(r=e<3||n[0]>t||a<t)&&(n[4]=e,n[5]=t,p.n=a,i=0))}if(r||1<e)return h;throw l=!0,t}}var h={};function v(){}function o(){}function a(){}var _=Object.getPrototypeOf,e=[][t]?_(_([][t]())):(_regeneratorDefine2(_={},t,function(){return this}),_),c=a.prototype=v.prototype=Object.create(e);function i(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_regeneratorDefine2(e,r,"GeneratorFunction")),e.prototype=Object.create(c),e}return _regeneratorDefine2(c,"constructor",o.prototype=a),_regeneratorDefine2(a,"constructor",o),_regeneratorDefine2(a,r,o.displayName="GeneratorFunction"),_regeneratorDefine2(c),_regeneratorDefine2(c,r,"Generator"),_regeneratorDefine2(c,t,function(){return this}),_regeneratorDefine2(c,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:n,m:i}})()}function _regeneratorDefine2(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(_regeneratorDefine2=function(e,t,r,n){t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:((n=function(t,r){_regeneratorDefine2(e,t,function(e){return this._invoke(t,r,e)})})("next",0),n("throw",1),n("return",2))})(e,t,r,n)}function asyncGeneratorStep(e,t,r,n,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(i){return function(){var e=this,c=arguments;return new Promise(function(t,r){var n=i.apply(e,c);function o(e){asyncGeneratorStep(n,t,r,o,a,"next",e)}function a(e){asyncGeneratorStep(n,t,r,o,a,"throw",e)}o(void 0)})}}var API_BASE=window&&"localhost"===window.location.hostname&&"3000"===window.location.port?"":"http://localhost:3000";function fetchProjects(){return _fetchProjects.apply(this,arguments)}function _fetchProjects(){return(_fetchProjects=_asyncToGenerator(_regenerator().m(function e(){var t,r,n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,fetch("".concat(API_BASE,"/api/projects"));case 1:return r=e.v,e.n=2,r.json();case 2:if((t=e.v).ok){e.n=3;break}return e.a(2,console.error("API returned error",t));case 3:console.log("Projects:",t.projects),(r=document.getElementById("api-projects"))&&(r.innerHTML=t.projects.map(function(e){return'<li><a href="'.concat(e.url,'">').concat(e.title,"</a> - ").concat(e.description,"</li>")}).join("\n")),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Failed to fetch projects",n);case 5:return e.a(2)}},e,null,[[0,4]])}))).apply(this,arguments)}function sendContact(e){return _sendContact.apply(this,arguments)}function _sendContact(){return(_sendContact=_asyncToGenerator(_regenerator().m(function e(t){var r,n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return r={name:t.querySelector("[name=name]").value,email:t.querySelector("[name=email]").value,message:t.querySelector("[name=message]").value},e.n=1,fetch("".concat(API_BASE,"/api/contact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 1:return r=e.v,e.n=2,r.json();case 2:(n=e.v).ok?(alert("Message sent!"),t.reset()):alert("Failed: "+(n.error||"unknown"));case 3:return e.a(2)}},e)}))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",function(){document.getElementById("api-projects")&&fetchProjects();var t=document.getElementById("api-contact-form");t&&t.addEventListener("submit",function(e){e.preventDefault(),sendContact(t)})});